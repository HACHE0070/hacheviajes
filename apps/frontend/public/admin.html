<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Admin Panel - Packages</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --info: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --sidebar-width: 250px;
            --header-height: 60px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            display: flex;
            background-color: #f5f7fb;
            color: var(--dark);
        }

        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            color: white;
            position: fixed;
            overflow-y: auto;
            transition: all 0.3s;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 0;
        }

        .sidebar-menu {
            padding: 15px 0;
        }

        .sidebar-menu ul {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border-left: 4px solid var(--success);
        }

        .sidebar-menu i {
            margin-right: 10px;
            font-size: 1.1rem;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 20px;
            transition: all 0.3s;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header h1 {
            font-size: 1.8rem;
            color: var(--primary);
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background-color: #e11570;
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            background-color: #3ab0d9;
        }

        /* Section Content */
        .section-content {
            display: none;
        }

        .section-content.active {
            display: block;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .section-description {
            margin-bottom: 20px;
            color: #6c757d;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        /* Image Upload */
        .image-upload {
            position: relative;
            width: 100%;
            height: 200px;
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            overflow: hidden;
        }

        .image-upload:hover {
            border-color: var(--primary);
        }

        .image-upload i {
            font-size: 2rem;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .image-upload p {
            color: #6c757d;
        }

        .image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        /* Trip Cards */
        .trips-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .trip-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .trip-card:hover {
            transform: translateY(-5px);
        }

        .trip-cover {
            height: 180px;
            width: 100%;
            object-fit: cover;
        }

        .trip-info {
            padding: 15px;
        }

        .trip-info h3 {
            margin-bottom: 5px;
            font-size: 1.2rem;
        }

        .trip-info p {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .trip-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        /* Package Cards */
        .packages-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .package-card {
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .package-cover {
            height: 120px;
            width: 100%;
            object-fit: cover;
        }

        .package-info {
            padding: 12px;
        }

        .package-info h4 {
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .package-info p {
            color: #6c757d;
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .package-price {
            font-weight: bold;
            color: var(--primary);
            margin-top: 5px;
        }

        .package-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .modal-title {
            font-size: 1.3rem;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
        }

        .package-tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 20px;
        }

        .package-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .package-tab.active {
            border-bottom: 2px solid var(--primary);
            color: var(--primary);
            font-weight: 500;
        }

        .package-form {
            display: none;
        }

        .package-form.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            .sidebar-header h2, .sidebar-menu span {
                display: none;
            }
            .sidebar-menu i {
                margin-right: 0;
                font-size: 1.3rem;
            }
            .main-content {
                margin-left: 70px;
            }
            .trips-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>Travel Admin</h2>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li><a href="#" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
                <li><a href="#" data-page="trip-customizer"><i class="fas fa-pencil-alt"></i> <span>Trip Customizer Manager</span></a></li>
                <li><a href="#" data-page="destinations"><i class="fas fa-map-marker-alt"></i> <span>Destinations</span></a></li>
                <li><a href="#" data-page="departure-cities"><i class="fas fa-city"></i> <span>Departure Cities</span></a></li>
                <li><a href="#" class="active" data-page="packages"><i class="fas fa-box"></i> <span>Packages</span></a></li>
                <li><a href="#" data-page="flights"><i class="fas fa-plane"></i> <span>Flights</span></a></li>
                <li><a href="#" data-page="hotels"><i class="fas fa-hotel"></i> <span>Hotels</span></a></li>
                <li><a href="#" data-page="activities"><i class="fas fa-hiking"></i> <span>Activities</span></a></li>
                <li><a href="#" data-page="bookings"><i class="fas fa-calendar-check"></i> <span>Bookings</span></a></li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <h1 id="page-title">Packages</h1>
            <div class="user-info">
                <img src="https://i.pravatar.cc/150?img=32" alt="User">
                <span>Admin User</span>
            </div>
        </div>

        <!-- Packages Content -->
        <div id="packages-content" class="section-content active">
            <div class="section-header">
                <h2 class="section-title">Packages Management</h2>
                <button class="btn btn-primary" id="add-trip-btn">Add New Trip</button>
            </div>
            <p class="section-description">Manage trips and their packages. Each trip can have up to 3 packages with different details and pricing.</p>
            
            <!-- Add Trip Form -->
            <div class="form-section" id="trip-form" style="display: none;">
                <h3>Add New Trip</h3>
                <div class="form-group">
                    <label for="trip-name">Trip Name</label>
                    <input type="text" id="trip-name" class="form-control" placeholder="Enter trip name">
                </div>
                <div class="form-group">
                    <label for="trip-description">Trip Description</label>
                    <textarea id="trip-description" class="form-control" rows="3" placeholder="Enter trip description"></textarea>
                </div>
                <div class="form-group">
                    <label for="trip-destination">Destination</label>
                    <select id="trip-destination" class="form-control">
                        <option value="">Select Destination</option>
                        <option value="paris">Paris, France</option>
                        <option value="tokyo">Tokyo, Japan</option>
                        <option value="bali">Bali, Indonesia</option>
                        <option value="newyork">New York, USA</option>
                        <option value="rome">Rome, Italy</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Trip Cover Image</label>
                    <div class="image-upload" id="trip-cover-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload trip cover image</p>
                        <img id="trip-cover-preview" class="image-preview" alt="Trip cover preview">
                    </div>
                    <input type="file" id="trip-cover-file" accept="image/*" style="display: none;">
                </div>
                <div class="form-actions">
                    <button class="btn btn-outline" id="cancel-trip">Cancel</button>
                    <button class="btn btn-primary" id="save-trip">Save Trip</button>
                </div>
            </div>
            
            <!-- Trips List -->
            <div class="trips-container" id="trips-list">
                <!-- Trip 1 -->
                <div class="trip-card">
                    <img src="https://images.unsplash.com/photo-1502602898536-47ad22581b52?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Paris" class="trip-cover">
                    <div class="trip-info">
                        <h3>Paris City Break</h3>
                        <p>Experience the magic of Paris with our carefully curated packages</p>
                        
                        <div class="packages-container">
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Basic Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Basic Package</h4>
                                    <p>3 days, 2 nights</p>
                                    <p class="package-price">$899</p>
                                </div>
                            </div>
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1431274172761-fca41d930114?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Standard Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Standard Package</h4>
                                    <p>5 days, 4 nights</p>
                                    <p class="package-price">$1,299</p>
                                </div>
                            </div>
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1564507592333-c60657eea523?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Premium Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Premium Package</h4>
                                    <p>7 days, 6 nights</p>
                                    <p class="package-price">$1,899</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="trip-actions">
                            <button class="btn btn-outline edit-trip">Edit Trip</button>
                            <button class="btn btn-primary manage-packages" data-trip-id="1">Manage Packages</button>
                        </div>
                    </div>
                </div>
                
                <!-- Trip 2 -->
                <div class="trip-card">
                    <img src="https://images.unsplash.com/photo-1540959733332-8ab49d8058c5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Tokyo" class="trip-cover">
                    <div class="trip-info">
                        <h3>Tokyo Adventure</h3>
                        <p>Discover the perfect blend of tradition and innovation in Tokyo</p>
                        
                        <div class="packages-container">
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1528164344705-47542687000d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Basic Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Basic Package</h4>
                                    <p>4 days, 3 nights</p>
                                    <p class="package-price">$1,099</p>
                                </div>
                            </div>
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1490806843957-31f4c9a91c65?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Standard Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Standard Package</h4>
                                    <p>6 days, 5 nights</p>
                                    <p class="package-price">$1,599</p>
                                </div>
                            </div>
                            <div class="package-card">
                                <img src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Premium Package" class="package-cover">
                                <div class="package-info">
                                    <h4>Premium Package</h4>
                                    <p>8 days, 7 nights</p>
                                    <p class="package-price">$2,199</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="trip-actions">
                            <button class="btn btn-outline edit-trip">Edit Trip</button>
                            <button class="btn btn-primary manage-packages" data-trip-id="2">Manage Packages</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Packages Modal -->
    <div class="modal" id="packages-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Manage Packages for <span id="modal-trip-name">Paris City Break</span></h3>
                <button class="close-modal">&times;</button>
            </div>
            
            <div class="package-tabs">
                <div class="package-tab active" data-package="1">Package 1</div>
                <div class="package-tab" data-package="2">Package 2</div>
                <div class="package-tab" data-package="3">Package 3</div>
            </div>
            
            <!-- Package 1 Form -->
            <div class="package-form active" id="package-form-1">
                <div class="form-group">
                    <label for="package1-name">Package Name</label>
                    <input type="text" id="package1-name" class="form-control" value="Basic Package">
                </div>
                <div class="form-group">
                    <label for="package1-description">Package Description</label>
                    <textarea id="package1-description" class="form-control" rows="3">Perfect for a short city break with essential experiences</textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="package1-duration">Duration</label>
                        <input type="text" id="package1-duration" class="form-control" value="3 days, 2 nights">
                    </div>
                    <div class="form-group">
                        <label for="package1-price">Price ($)</label>
                        <input type="number" id="package1-price" class="form-control" value="899">
                    </div>
                </div>
                <div class="form-group">
                    <label>Package Cover Image</label>
                    <div class="image-upload" id="package1-cover-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload package cover image</p>
                        <img id="package1-cover-preview" class="image-preview" src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Package cover preview">
                    </div>
                    <input type="file" id="package1-cover-file" accept="image/*" style="display: none;">
                </div>
                <div class="form-group">
                    <label for="package1-inclusions">Inclusions</label>
                    <textarea id="package1-inclusions" class="form-control" rows="3">Accommodation, Breakfast, City Tour, Airport Transfers</textarea>
                </div>
            </div>
            
            <!-- Package 2 Form -->
            <div class="package-form" id="package-form-2">
                <div class="form-group">
                    <label for="package2-name">Package Name</label>
                    <input type="text" id="package2-name" class="form-control" value="Standard Package">
                </div>
                <div class="form-group">
                    <label for="package2-description">Package Description</label>
                    <textarea id="package2-description" class="form-control" rows="3">A balanced package with more experiences and comfort</textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="package2-duration">Duration</label>
                        <input type="text" id="package2-duration" class="form-control" value="5 days, 4 nights">
                    </div>
                    <div class="form-group">
                        <label for="package2-price">Price ($)</label>
                        <input type="number" id="package2-price" class="form-control" value="1299">
                    </div>
                </div>
                <div class="form-group">
                    <label>Package Cover Image</label>
                    <div class="image-upload" id="package2-cover-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload package cover image</p>
                        <img id="package2-cover-preview" class="image-preview" src="https://images.unsplash.com/photo-1431274172761-fca41d930114?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Package cover preview">
                    </div>
                    <input type="file" id="package2-cover-file" accept="image/*" style="display: none;">
                </div>
                <div class="form-group">
                    <label for="package2-inclusions">Inclusions</label>
                    <textarea id="package2-inclusions" class="form-control" rows="3">Accommodation, Breakfast & Dinner, City Tour, Museum Entries, Airport Transfers</textarea>
                </div>
            </div>
            
            <!-- Package 3 Form -->
            <div class="package-form" id="package-form-3">
                <div class="form-group">
                    <label for="package3-name">Package Name</label>
                    <input type="text" id="package3-name" class="form-control" value="Premium Package">
                </div>
                <div class="form-group">
                    <label for="package3-description">Package Description</label>
                    <textarea id="package3-description" class="form-control" rows="3">Luxury experience with exclusive access and premium services</textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="package3-duration">Duration</label>
                        <input type="text" id="package3-duration" class="form-control" value="7 days, 6 nights">
                    </div>
                    <div class="form-group">
                        <label for="package3-price">Price ($)</label>
                        <input type="number" id="package3-price" class="form-control" value="1899">
                    </div>
                </div>
                <div class="form-group">
                    <label>Package Cover Image</label>
                    <div class="image-upload" id="package3-cover-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload package cover image</p>
                        <img id="package3-cover-preview" class="image-preview" src="https://images.unsplash.com/photo-1564507592333-c60657eea523?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Package cover preview">
                    </div>
                    <input type="file" id="package3-cover-file" accept="image/*" style="display: none;">
                </div>
                <div class="form-group">
                    <label for="package3-inclusions">Inclusions</label>
                    <textarea id="package3-inclusions" class="form-control" rows="3">Luxury Accommodation, All Meals, Private Tours, Exclusive Experiences, Airport Transfers, Travel Insurance</textarea>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-outline" id="cancel-packages">Cancel</button>
                <button class="btn btn-primary" id="save-packages">Save All Packages</button>
            </div>
        </div>
    </div>

    <script>
        // Page Navigation
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active link
                document.querySelectorAll('.sidebar-menu a').forEach(item => {
                    item.classList.remove('active');
                });
                this.classList.add('active');
                
                // Update page title
                document.getElementById('page-title').textContent = this.querySelector('span').textContent;
            });
        });

        // Trip Form Toggle
        document.getElementById('add-trip-btn').addEventListener('click', function() {
            document.getElementById('trip-form').style.display = 'block';
        });

        document.getElementById('cancel-trip').addEventListener('click', function() {
            document.getElementById('trip-form').style.display = 'none';
        });

        // Image Upload Functionality
        function setupImageUpload(uploadElementId, fileInputId, previewElementId) {
            const uploadElement = document.getElementById(uploadElementId);
            const fileInput = document.getElementById(fileInputId);
            const previewElement = document.getElementById(previewElementId);
            
            uploadElement.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        previewElement.src = e.target.result;
                        previewElement.style.display = 'block';
                        uploadElement.querySelector('i').style.display = 'none';
                        uploadElement.querySelector('p').style.display = 'none';
                    }
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
        }

        // Setup image uploads
        setupImageUpload('trip-cover-upload', 'trip-cover-file', 'trip-cover-preview');
        setupImageUpload('package1-cover-upload', 'package1-cover-file', 'package1-cover-preview');
        setupImageUpload('package2-cover-upload', 'package2-cover-file', 'package2-cover-preview');
        setupImageUpload('package3-cover-upload', 'package3-cover-file', 'package3-cover-preview');

        // Package Tabs
        document.querySelectorAll('.package-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const packageId = this.getAttribute('data-package');
                
                // Update active tab
                document.querySelectorAll('.package-tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                // Show corresponding form
                document.querySelectorAll('.package-form').forEach(form => {
                    form.classList.remove('active');
                });
                document.getElementById(`package-form-${packageId}`).classList.add('active');
            });
        });

        // Manage Packages Modal
        document.querySelectorAll('.manage-packages').forEach(button => {
            button.addEventListener('click', function() {
                const tripId = this.getAttribute('data-trip-id');
                const tripName = this.closest('.trip-card').querySelector('h3').textContent;
                
                document.getElementById('modal-trip-name').textContent = tripName;
                document.getElementById('packages-modal').classList.add('active');
            });
        });

        // Close Modal
        document.querySelector('.close-modal').addEventListener('click', function() {
            document.getElementById('packages-modal').classList.remove('active');
        });

        document.getElementById('cancel-packages').addEventListener('click', function() {
            document.getElementById('packages-modal').classList.remove('active');
        });

        // Save Packages
        document.getElementById('save-packages').addEventListener('click', function() {
            alert('All packages saved successfully!');
            document.getElementById('packages-modal').classList.remove('active');
        });

        // Save Trip
        document.getElementById('save-trip').addEventListener('click', function() {
            const tripName = document.getElementById('trip-name').value;
            const tripDescription = document.getElementById('trip-description').value;
            
            if (!tripName || !tripDescription) {
                alert('Please fill in all required fields');
                return;
            }
            
            alert('Trip saved successfully!');
            document.getElementById('trip-form').style.display = 'none';
            
            // Reset form
            document.getElementById('trip-name').value = '';
            document.getElementById('trip-description').value = '';
            document.getElementById('trip-destination').value = '';
            document.getElementById('trip-cover-preview').style.display = 'none';
            document.getElementById('trip-cover-upload').querySelector('i').style.display = 'block';
            document.getElementById('trip-cover-upload').querySelector('p').style.display = 'block';
        });
    </script>
</body>
</html>
